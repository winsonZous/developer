# 进程与进程管理

## 进程的引入

进程是对正在运行的程序的一个抽象。

### 程序的顺序执行

1. 程序在执行的时候，必须按照某种先后次序逐个执行，仅当前的已操作执行完后，才能执行后继操作。
2. 程序顺序执行的特征：

- 程序执行的顺序性：只有前一操作结束后才能执行后续操作
- 程序执行的封闭性：独占全机资源，因而机内资源只有本机才能改变
- 程序执行结果的确定性：程序执行的结果与它的执行速度无关，无论是从头到尾的执行还是停停走走的执行，都不会影响最终结果。
- 程序结果的再见性：只要程序执行时的环境与初始条件相同，当程序多次重复执行都将获得相同的结果。

### 程序的并发执行

1. 输入、计算、打印三个程序进行处理时可使它们并发执行。
2. 程序并发执行的特征：

- 程序执行的间断性：相互制约将导致并发程序具有“执行——暂停执行——执行”这种间断性活动规律
- 程序执行失去封闭性：多个程序共享系统中的各种资源
- 程序执行结果的不可再现性：资源没有独占，程序经过多次执行后，虽然其执行环境和初始条件都相同，但得到的结果却不相同。
- 程序和计算不再一一对应：程序和计算是两个不同的概念。程序是指令的有限集合，计算是执行操作的过程。

3. 引入并发编程的目的是提高到资源利用率。

### 多道程序设计

1. 计算机系统中，允许多个程序同时进入一个计算机系统的内存并运行，这种让多个程序同时进入计算机计算的方法成为多道程序设计
2. 实现多道程序设计必须妥善解决的3个问题

- 存储保护与程序浮动
- 处理机的管理和调度
- 系统资源的管理和调度

## 进程

1. 程序段、数据段及进程控制块3部分构成了一个进程的实体

### 进程的概念

1. 进程是具有独立功能的可并发执行的程序再一个数据集合上的运行过程，是系统进行资源分配和调度的独立单位。

- “一个中心，两个基本点” 一个中心是具有独立功能的可并发执行的程序再一个数据集合上的运行过程。两个基本点：资源分配，调度的独立单位。

### 进程的基本状态及其转换

![](进程五状态转换.png)

### 进程控制块

1. PCB记录了操作系统所需的、用于描述进程情况及控制进程运行所需要的全部信息。操作系统是根据PCB来对并发执行的进程进行控制和管理的。
2. 进程控制块包含的信息

- 进程标识符信息：外部标识符、内部标识符
- 处理机状态信息：通用寄存器、指令计数器、程序状态字、用户栈指针
- 进程调度信息：进程状态、进程优先级、进程调度相关信息（调度算法）、事件
- 进程控制信息：程序和数据地址、进程同步和通信机制、资源清单、链接指针 3。 进程控制块的组织方式：链接方式、索引方式

### 进程控制

1. 进程控制的主要任务是创建和撤销进程以及实现进程的状态转换，进程控制
2. 进程控制的主要功能是由操作系统内核实现的，操作系统内核的功能主要包括：

- 中断处理：各种类型的系统调用、键盘命令的输入、进程调度、设备驱动及文件操作
- 进程管理；进程的建立和撤销、进程状态的转换、进程调度、控制进程的并发执行
- 资源管理中的基本操作

##### 进程管理的基本功能

1. 进程调度方式

- 非剥夺的方式：分派程序一旦吧处理及分配给某进程后便让它一直运行下去，直到进程完成或发生某事件而阻塞时才把处理机分配给另外一进程
- 剥夺的方式：系统可以基于某种原则剥夺已分配给它的处理机，优先权原则、短进程优先、时间片原则

2.进程调度算法

- 先进先出算法
- 最短处理机运行期优先调度算法
- 最高响应比优先调度算法
- 优先级调度算法
- 前后台调度算法
- -时间片轮转调度算法
- 多级反馈队列轮转算法

```
算法具体描述系统设置多个就绪队列，且在其生命周期内可能再多队列中存在。
通常刚创建的进程因请求IO未用完时间片的进程排在最高优先级队列，在这个队列中运行2~3时间片未完成的进程排入下一较低优先级队列，这样系统设置多个优先级队列。 
系统在调度时，总是先调度优先级最高的队列。l
```

3. 进程调度的过程
进程调度所依赖的数据结构通常时调度队列，在单处理机系统中设置了多种等待队列。
例如，等待处理机的就绪队列、等待IO请求响应的设备队列、等待实时时钟的睡眠队列、等待通信信息的通信队列等。上诉队列的进程都可能引起调度，然后进入就绪队列。
就绪队列中的进程最终能够获得处理机而最终运行。对进程的调度，即将进程从相应队列中取出插入就绪队列，也就相应改变进程的状态，从而形成状态的转换。

## 进程的调度

### 调度基本概念

### 进程调度算法

### 进程调度的时机和过程

## 线程的基本概念

### 线程的引入

### 线程的定义和属性

### 线程与进程的比较

### 线程的实现机制

## Linux的进程和进程管理

### Linux的进程结构与进程结构

### Linux的核心进程调度

### 常见问题

1. 进程与程序的区别与联系

- 进程是程序的一次执行，它是一个动态的概念，程序是完成某个特定功能的指令的有序序列，是一个静态的概念。
- 进程是资源分配和独立调度的单位，程序是一种软件资源。

# 参考资料 <现代操作系统>